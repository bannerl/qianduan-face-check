### react diff
>对于react diff，我们已知的有两点，一个是会通过key来做比较，另一个是react默认是同级节点做diff，不会考虑到跨层级节点的diff（事实是前端开发中很少有DOM节点跨层级移动的）。



1，判断vNode 标签类型，不同类型有不同的替换规则

2，寻找新旧节点的长度，根据较小的节点进行比较

3，key值是数据和dom的映射，
新旧 children 中节点的映射关系，我们需要在 VNode 创建伊始就为其添加唯一的标识，即 key 属性。

4，如果新节点相对于旧节点的 VNodeData 和子节点都没有变化，则 patch 函数什么都不会做(这是优化的关键所在)

5，两层遍历，外层遍历新节点列表，第二层遍历旧节点，判断旧节点是否存在新节点相同的key值，如果存在则移动位置(拿到第一层的key值)，如果第二层key值小于第一层，说明第二层的节点需要插入新节点的后面，

6，如果第二层遍历结束，没有发现和新节点匹配的内容，则创建一个新节点

7，再优先遍历一次旧的 children，并尝试拿着旧 children 中的节点去新 children 中寻找相同的节点，如果找不到则说明该节点已经不存在于新 children 中了，这时我们应该将该节点对应的真实 DOM 移除

8，
react是上面的diff算法
vue是 双端比较算法
双端比较算法就是 先把两端的四个进行比对，匹配成功就交换位置，
如果不成功，则拿新的虚拟节点第一个和旧的列表进行比较，如果匹配成功，则将旧的指定节点置为空，然后接着两端比较

vue3使用新的算法
vue3通过先匹配两端相同节点，然后再匹配剩余节点
